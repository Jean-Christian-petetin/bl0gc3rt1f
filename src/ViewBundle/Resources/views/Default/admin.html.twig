{%extends "base.html.twig"%}

{% block title %}
    {{ parent() }}
    - Administration
    {% endblock %}
    
{% block body %}    
<ul>
    <li><a href="{{ path('admin') }}">Tout</a></li>
    <li><a href="{{ path('articlePublier') }}">Publier</a></li>
    <li><a href="{{ path('articleNonPublier') }}">Non Publier</a></li>
</ul>

<h1>ADMIN</h1>

<a href="{{ path('addArticle') }}">Ajouter</a>

{% for article in varArticle %} {# On appelle cette boucle pour chaque instance #}
<div>
    <div>
        {# On va chercher dans la colonne titre lie a l'instance correspondante #}
        <h3>{{ article.titre }}</h3>
        {# Meme principe que pour la premiere ligne et c'est pareil pour la suite #}
        <img src="{{asset('images/')~article.image }}">
        <p>{{ article.sujet }}</p>
        <p>{{ article.date|date('d/m/y')}}</p>
        <p>{{ article.auteur }}</p>
    </div>
    <a href="{{ path('editArticle',{'id':article.id})}}">Modifier</a>
    <a href="{{ path('deleteNews',{'id':article.id})}}">Supprimer</a>
</div>        
{% endfor %}
{% endblock %}
